/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
!function(e,t){"use strict";e.module("smart-table").directive("stNextPrevPagination",function(){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?"},templateUrl:function(e,t){return t.stTemplate?t.stTemplate:"app/shared/override/smart-table/pagination.html"},link:function(e,t,a,o){function n(){var t=o.tableState().pagination;0===t.start&&(e.currentPage=1),e.cantPageBackward=1===e.currentPage,e.cantPageForward=_.has(t,"next")?_.isNull(t.next):!0}e.stItemsByPage=e.stItemsByPage?+e.stItemsByPage:10,e.stDisplayedPages=e.stDisplayedPages?+e.stDisplayedPages:5,e.setPaginationAction=function(t){e.$parent.paginationAction=t,o.slice((e.currentPage-1)*e.stItemsByPage,e.stItemsByPage)},e.currentPage=1,e.cantPageForward=!0,e.cantPageBackward=!0,e.prev=function(){e.currentPage=Math.max(e.currentPage-1,1),e.setPaginationAction(1!==e.currentPage?"prev":"")},e.next=function(){e.currentPage+=1,e.setPaginationAction("next")},e.$watch(function(){return o.tableState().pagination},n,!0),e.$watch("stItemsByPage",function(t,a){t!==a&&e.selectPage(1)}),e.selectPage=function(t){t>0&&o.slice(0,e.stItemsByPage)},o.tableState().pagination.number||o.slice(0,e.stItemsByPage)}}}).directive("stSelectAll",function(){return{require:"^stTable",template:'<input type="checkbox" ng-model="isAllSelected"/>',scope:{rows:"=all",ngModel:"=",countSelectedRows:"="},link:function(e,t,a,o){function n(){return i()===s()}function i(){return e.rows.length}function s(){var t=0;return e.rows.forEach(function(e){e.isSelected&&t++}),e.countSelectedRows=t,t}function l(t){e.rows.forEach(function(e){e.isSelected!==t&&(e.isSelected=t)})}e.$watch("rows",function(){e.isAllSelected=n()},!0),e.$watch("isAllSelected",function(){e.isAllSelected?l(!0):n()&&l(!1)})}}}).directive("stCustomAction",function(){var e={restrict:"AE",require:"^stTable",link:function(e,t,a,o){o.tableState();t.on("click",function(t){e.callback.call().then(function(){o.pipe()})})},scope:{callback:"&"}};return e})}(angular),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("backend",["authModule","postModule","mediaModule","mediaCategoryModule","postCategoryModule","settingModule","languageModule","meModule","theme.directives","theme.services","global.filter","global.service","global.directive","angular-spinkit","smart-table","restangular","ui.router","ui.bootstrap","ui.bootstrap.datetimepicker","ui.tree","ui.select","textAngular","angular.filter","pascalprecht.translate","angularMoment","toaster","LocalStorageModule","tmh.dynamicLocale","ngAnimate","ngCookies","ngTouch","ngRoute","ngSanitize"]).config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"app/languages/locale-",suffix:".json"}),e.useCookieStorage(),e.useSanitizeValueStrategy("sanitize"),e.preferredLanguage("en-us"),e.fallbackLanguage(["en-us","zh-hk","zh-cn"])}]).config(["uiSelectConfig",function(e){e.theme="bootstrap",e.resetSearchInput=!0}]).run(["$rootScope","$location","authenticationService","localStorageService","amMoment","tmhDynamicLocale","settingService","$translate","$timeout",function(e,t,a,o,n,i,s,l,r){var c=["/auth/login","/auth/logout"];e.pageViewLoading=!1,e.$on("$stateChangeStart",function(o,n,i){_(c).contains(t.path())||a.check()||(console.log("Oops! please login!"),t.path("auth/login")),e.pageViewLoading=!0}),e.$on("$stateChangeSuccess",function(){r(function(){e.pageViewLoading=!1},500)}),l("panel.name").then(function(t){e.siteTitle=t}),e.meta={pageTitle:""},e.$location=t,n.changeTimezone(s.find("timezone")),o.get("currency")||(i.set("zh-hk"),o.set("currency",s.get("currency")))}]).run(["$location","authenticationService","localStorageService","$timeout","Restangular","$http","$q",function(e,t,a,o,n,i,s){var l=function(){var o=s.defer();return console.log("start get refresh token"),i({method:"POST",url:"http://cms.dev/api/admin/auth/refresh-token",headers:{Authorization:t.getToken()}}).success(function(e,t,n,i){console.log("set token"),a.set("token",e.result.token),o.resolve(e.result.token)}).error(function(t,a,n,i){console.log("Oops! Expired Token, please login again! "),e.path("auth/login"),o.reject(t)}),o.promise};n.setErrorInterceptor(function(e,a,o){return 400===e.status||"token_expired"===e.message?l().then(function(){return e.config.headers.Authorization=t.getToken(),i(e.config).then(o,a.reject),!1}):(console.log("error not handled"),!0)}),n.addFullRequestInterceptor(function(e,a,o,n,i,s,l){return i.Authorization=t.getToken(),{element:e,headers:i,params:s,httpConfig:l}})}]).config(["$httpProvider","localStorageServiceProvider",function(e,t){e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"],t.setPrefix("emcoocms").setStorageType("localStorage").setNotify(!0,!0)}]).config(["stConfig",function(e){e.select.mode="multiple"}]).config(["RestangularProvider",function(e){e.setBaseUrl("http://cms.dev/api/admin"),e.setRestangularFields({ids:"_ids"}),e.addResponseInterceptor(function(e,t,a,o,n,i){var s;return"getList"===t?(s=e.result,_.isUndefined(e.meta)||(s.meta=e.meta)):s=e.result,s}),e.setDefaultHttpFields({cache:!0})}]).config(["$locationProvider","$stateProvider","$urlRouterProvider",function(e,t,a){e.html5Mode(!0),t.state("main",{url:"/","abstract":!0,templateUrl:"app/main/main.html"}).state("fullscreen",{url:"/","abstract":!0,templateUrl:"app/main/fullscreen.html"}).state("main.index",{url:"",templateUrl:"app/main/dashboard.html",resolve:{meta:["$rootScope","$translate","$q",function(e,t,a){var o=a.defer();return t("panel.dashboard").then(function(t){e.meta.pageTitle=t,o.resolve(!0)},function(){o.reject()}),o.promise}]}}).state("main.not-found",{url:"404",templateUrl:"app/template/404.html",resolve:{meta:["$rootScope","$translate","$q",function(e,t,a){var o=a.defer();return t("panel.dashboard").then(function(t){e.meta.pageTitle=t,o.resolve(!0)},function(){o.reject()}),o.promise}]}}),a.otherwise("/")}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e,t,a,o){var n=this;n.menu=[{label:"Dashboard",iconClasses:"fa fa-home",url:"/admin/"},{label:"Post",iconClasses:"fa fa-tags",children:[{label:"All Posts",iconClasses:"fa fa-circle-o",state:"main.post-list"},{label:"Add new",iconClasses:"fa fa-circle-o",state:"main.post-create"},{label:"Categories",iconClasses:"fa fa-circle-o",state:"main.post-category-list"}]},{label:"Media",iconClasses:"fa fa-file-archive-o",state:"main.media-list"}];var i=function(e,t){angular.forEach(e,function(e){e.parent=t,void 0!==e.children&&i(e.children,e)})};n.findItemByUrl=function(e,t){for(var a=0,i=e.length;i>a;a++){if(o.is(e[a].state))return e[a];if(void 0!==e[a].children){var s=n.findItemByUrl(e[a].children,t);if(s)return s}}},i(n.menu,null),n.openItems=[],n.selectedItems=[],n.selectedFromNavMenu=!1,n.select=function(e){if(e.open)return void(e.open=!1);for(var t=n.openItems.length-1;t>=0;t--)n.openItems[t].open=!1;n.openItems=[];for(var a=e;null!==a;)a.open=!0,n.openItems.push(a),a=a.parent;if(!e.children||e.children&&e.children.length<1){n.selectedFromNavMenu=!0;for(var o=n.selectedItems.length-1;o>=0;o--)n.selectedItems[o].selected=!1;for(n.selectedItems=[],a=e;null!==a;)a.selected=!0,n.selectedItems.push(a),a=a.parent}},e.$watch(function(){return t.path()},function(e,t){if(n.selectedFromNavMenu===!1){var o=n.findItemByUrl(n.menu,e);o&&a(function(){n.select(o)})}n.selectedFromNavMenu=!1})}angular.module("backend").controller("SidebarController",e),e.$inject=["$scope","$location","$timeout","$state"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("settingModule",[])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(){var e={store_name:"YOOV CMS",store_email:"mark@yoov.com",store_address:"",store_phone:"",timezone:"Asia/Hong_Kong",currency:"HKD",active:!0,meta_title:"",meta_description:"",meta_keywords:"",weight_unit:"g",product_per_page:10,tax_in_price:!1,tax_in_shipping:!1,currency_symbol:"$",currency_rate:{USD:.129,CNY:.801}},t={};return t.get=function(){return e},t.find=function(t){return e[t]},t}angular.module("settingModule").factory("settingService",e)}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("postModule",["ui.router"]).run(["Restangular",function(e){e.extendCollection("posts",function(e){return e}),e.extendModel("posts",function(e){return e.init=function(){_.extend(e,{id:"",status:"published",visibility:"public",categories:[]})},""===e.id&&e.init(),e})}]).config(["$stateProvider",function(e){e.state("main.post-list",{url:"posts",templateUrl:"app/components/post/post.list.html",controller:"PostListController as listCtrl",resolve:{meta:["$rootScope","$translate","$q",function(e,t,a){var o=a.defer();return t("post.posts").then(function(t){e.meta.pageTitle=t,o.resolve(!0)},function(){o.reject()}),o.promise}]}}).state("main.post-create",{url:"posts/create",templateUrl:"app/components/post/post.form.html",controller:"PostFormController as formCtrl",resolve:{post:function(){},meta:["$rootScope","$translate","$q",function(e,t,a){var o=a.defer();return t("post.add_a_post").then(function(t){e.meta.pageTitle=t,o.resolve(!0)},function(){o.reject()}),o.promise}]}}).state("main.post-edit",{url:"posts/:id/edit",templateUrl:"app/components/post/post.form.html",controller:"PostFormController as formCtrl",resolve:{post:["postService","$stateParams",function(e,t){return e.find(t.id,{cache:!1})}],meta:["$rootScope","$translate","$q",function(e,t,a){var o=a.defer();return t("post.edit_post").then(function(t){e.meta.pageTitle=t,o.resolve(!0)},function(){o.reject()}),o.promise}]}})}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e){var t={};return t.init=function(){return e.one("posts","")},t.get=function(t,a){return t=t||{},a=a||{},e.all("posts").withHttpConfig(a).getList(t)},t.find=function(t,a){return a=a||{},e.one("posts",t).withHttpConfig(a).get()},t.update=function(t,a){return e.one("posts",t).customPUT(a)},t.store=function(t){return e.all("posts").post(t)},t.destroy=function(t){return e.one("posts",t).remove()},t}angular.module("postModule").factory("postService",e),e.$inject=["Restangular"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e,t,a,o,n,i,s){var l=this;l.open=function(e){e.preventDefault(),e.stopPropagation(),l.opened=!0},l.dateOptions={minMode:"month"},l.disabled=function(e,t){return"day"===t&&(0===e.getDay()||6===e.getDay())},l.categories=[],l.refreshCategory=function(e){""!==e&&o.get({name:e}).then(function(e){l.categories=e})},l.tableLoading=!1,l.paginationAction="",l.rowCollection=[],l.itemsByPage=15,l.filter={limit:l.itemsByPage,page:parseInt(t.search().page)||1,search:t.search().search||"",published_at:"",category_ids:[]},l.resetFilter=function(){var e=i.defer();return l.filter.search=null,l.filter.published_at=null,l.filter.published_at_max=null,l.filter.published_at_min=null,e.resolve(),e.promise},l.filterAction=function(){var e=i.defer();return""!==l.filter.published_at&&null!==l.filter.published_at&&(console.log(l.filter.published_at),l.filter.published_at_max=moment.tz(l.filter.published_at,s.timezone).utc().add(1,"months").format("YYYY-MM-DD HH:mm:ss"),l.filter.published_at_min=moment.tz(l.filter.published_at,s.timezone).utc().add(1,"days").format("YYYY-MM-DD HH:mm:ss")),e.resolve(),e.promise},l.resetFilter(),l.callServer=function(t){var a=angular.copy(l.filter);a.category_ids.length>0&&(a["category_ids[]"]=a.category_ids[0],delete a.category_ids);var o=t.pagination;"next"===l.paginationAction?a.page=o.next:"prev"===l.paginationAction&&(a.page=o.prev),l.tableLoading=!0,e.get(a,{cache:!1}).then(function(e){t.pagination.next=e.meta.pagination.next_page||null,t.pagination.prev=e.meta.pagination.prev_page||null,l.rowCollection=e,l.tableLoading=!1})},l.remove=function(t){var o=l.rowCollection.indexOf(t);-1!==o&&""!==t.id&&e.destroy(t.id).then(function(){l.rowCollection.splice(o,1),a.pop("success","",n.instant("post.delete_success_msg"))},function(){a.pop("error","",n.instant("post.delete_error_msg"))})},l.bulkRemove=function(){var t=[];_.each(l.rowCollection,function(a,o){a.isSelected===!0&&""!==a.id&&t.push(e.destroy(a.id))}),i.all(t).then(function(){for(var e=[],t=0;t<l.rowCollection.length;t++)(l.rowCollection[t].isSelected!==!0||""===l.rowCollection[t].id)&&e.push(l.rowCollection[t]);l.rowCollection=e,a.pop("success","",n.instant("post.delete_success_msg"))},function(){a.pop("error","",n.instant("post.delete_error_msg"))})}}angular.module("postModule").controller("PostListController",e),e.$inject=["postService","$location","toaster","postCategoryService","$translate","$q","angularMomentConfig"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e,t,a,o,n,i,s,l,r,c,d,u,p,g,f,m){var v=this;v.post=_.isEmpty(d)||_.isUndefined(d)?o.init():d,console.log(v.post),v.post.categories.length>0&&n.get({"ids[]":v.post.categories}).then(function(e){v.post.categories=e}),v.categories=[],v.refreshCategory=function(e){""!==e&&n.get({name:e}).then(function(e){v.categories=e})},v.post.published_at=s(v.post.published_at).format(),v.open=function(e){e.preventDefault(),e.stopPropagation(),v.opened=!0},v.dateOptions={startingDay:1,showWeeks:!1,initDate:null,maxDate:s().add(3,"year").format("YYYY-MM-DD")},v.form={publishedDate:s(v.post.published_at).format("YYYY-MM-DD"),publishedTime:v.post.published_at},v.generateSlug=function(){v.generlateSlugLoading=!0,f.all("slug").post({slug:v.post.title}).then(function(e){v.generlateSlugLoading=!1,v.post.slug=e.slug})};var h=function(){var e=angular.copy(v.post),t=m.defer();return e.categories=_.pluck(v.post.categories,"id"),e.published_at=s(v.form.publishedDate).hour(new Date(v.form.publishedTime).getHours()).minutes(new Date(v.form.publishedTime).getMinutes()).tz(l.timezone).utc().format("YYYY-MM-DD HH:mm:ss"),""!==e.id?o.update(e.id,e).then(function(e){t.resolve(e)},function(e){t.reject(e)}):o.store(e).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};v.isSaveAndExit=!1,v.saveLoading=!1,v.save=function(){v.saveLoading=!0,h().then(function(e){v.saveLoading=!1,r.pop("success","",c.instant("post."+(""!==v.post.id?"update_success_msg":"create_success_msg"))),v.isSaveAndExit?p.path("/posts"):""===v.post.id?p.path("/posts/"+e.id+"/edit"):v.post=e},function(e){v.saveLoading=!1,i.formError(e)})},v.saveAndExit=function(){v.isSaveAndExit=!0,v.save()},v.deleteLoading=!1,v["delete"]=function(){""!==v.post.id&&(v.deleteLoading=!0,o.destroy(v.post.id).then(function(){r.pop("success","",c.instant("post.delete_success_msg")),p.path("/posts")},function(e){deferred.reject(e)}))}}angular.module("postModule").controller("PostFormController",e),e.$inject=["$scope","$http","$window","postService","postCategoryService","messageService","moment","angularMomentConfig","toaster","$translate","post","$filter","$location","$timeout","Restangular","$q"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("postCategoryModule",[]).run(["Restangular","postCategoryService",function(e,t){e.extendCollection("posts/categories",function(e){return e}),e.extendModel("posts/categories",function(e){return e.init=function(){_.extend(e,{id:"",active:1})},""===e.id&&e.init(),e})}]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("main.post-category-list",{url:"posts/categories",templateUrl:"app/components/post.category/post.category.list.html",controller:"PostCategoryListController as listCtrl",resolve:{meta:["$rootScope","$translate","$q",function(e,t,a){var o=a.defer();return t("post.posts").then(function(t){e.meta.pageTitle=t,o.resolve(!0)},function(){o.reject()}),o.promise}]}}).state("main.post-category-create",{url:"posts/categories/create",templateUrl:"app/components/post.category/post.category.form.html",controller:"PostCategoryFormController as formCtrl",resolve:{category:function(){},meta:["$rootScope","$translate","$q",function(e,t,a){var o=a.defer();return t("post.add_a_post").then(function(t){e.meta.pageTitle=t,o.resolve(!0)},function(){o.reject()}),o.promise}]}}).state("main.post-category-edit",{url:"posts/categories/:id/edit",templateUrl:"app/components/post.category/post.category.form.html",controller:"PostCategoryFormController as formCtrl",resolve:{category:["postCategoryService","$stateParams",function(e,t){return e.find(t.id,{cache:!1})}],meta:["$rootScope","$translate","$q",function(e,t,a){var o=a.defer();return t("post.edit_post").then(function(t){e.meta.pageTitle=t,o.resolve(!0)},function(){o.reject()}),o.promise}]}})}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e){var t={};return t.init=function(){return e.one("posts/categories","")},t.get=function(t,a){return t=t||{},a=a||{},e.all("posts/categories").withHttpConfig(a).getList(t)},t.find=function(t){return e.one("posts/categories",t).get()},t.update=function(t,a){return e.one("posts/categories",t).customPUT(a)},t.store=function(t){return e.all("posts/categories").post(t)},t.destroy=function(t){return e.one("posts/categories",t).remove()},t.move=function(t,a){return a=a||{},e.one("posts/categories",t).customPOST(a,"move")},t}angular.module("postCategoryModule").factory("postCategoryService",e),e.$inject=["Restangular"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e,t,a,o,n){var i=this;e.get({parent_id:1},{cache:!1}).then(function(e){i.categories=e}),i.getChildrenLoading={},i.getChildren=function(t){i.getChildrenLoading[t.id]=!0,o(function(){e.get({parent_id:t.id},{cache:!1}).then(function(e){t.children=e,i.getChildrenLoading[t.id]=!1})})},i["delete"]=function(t){var o=t.$modelValue;e.destroy(o.id).then(function(){t.remove(),a.pop("success","",n.instant("post.category.delete_success_msg"))},function(){a.pop("error","",n.instant("post.category.delete_error_msg"))})},i.categoryTree={collapsed:!0,accept:function(e,t,a){return console.log(e,t,a),!0},dropped:function(t){if(t.pos.moving){var o=t.source.nodeScope.$modelValue.id,i={},s=t.dest.nodesScope.$parent.$modelValue;s&&(i.parent_id=s.id);for(var l=0;l<t.dest.nodesScope.$modelValue.length;l++)if(t.dest.nodesScope.$modelValue[l].id===o){t.dest.nodesScope.$modelValue[l-1]&&(i.prev_id=t.dest.nodesScope.$modelValue[l-1].id),t.dest.nodesScope.$modelValue[l+1]&&(i.next_id=t.dest.nodesScope.$modelValue[l+1].id);break}e.move(o,i).then(function(e){a.pop("success","",n.instant("post.category.update_success_msg"))})}}}}angular.module("postCategoryModule").controller("PostCategoryListController",e),e.$inject=["postCategoryService","$location","toaster","$timeout","$translate"]}(),/*
 * This file is part of YOOV TEAM PROJECT.
 *
 * (c) YOOV TEAM
 * (c) DevMark <mark@yoov.com>
 *
 * For the full copyright and license information, please view http://yoov.com/
 *
 */
function(){"use strict";function e(e,t,a,o,n,i,s,l,r,c,d,u){var p=this;p.category=_.isEmpty(r)||_.isUndefined(r)?a.init():r,a.get().then(function(e){p.categories=e}),p.generateSlug=function(){p.generateSlugLoading=!0,u.all("slug").post({slug:p.category.name}).then(function(e){p.generateSlugLoading=!1,p.category.slug=e.slug})};var g=function(){var e=angular.copy(p.category);return""!==e.id?a.update(e.id,e):a.store(e)};p.saveLoading=!1,p.save=function(){p.saveLoading=!0,g().then(function(e){p.saveLoading=!1,s.pop("success","",l.instant("post.category.update_success_msg"))},function(e){p.saveLoading=!1,o.formError(e)})},p.saveAndExit=function(){p.saveLoading=!0,g().then(function(e){p.saveLoading=!1,s.pop("success","",l.instant("post.category.update_success_msg")),t.path("/posts/categories")},function(e){p.saveLoading=!1,o.formError(e)})}}angular.module("postCategoryModule").controller("PostCategoryFormController",e),e.$inject=["$http","$location","postCategoryService","messageService","moment","angularMomentConfig","toaster","$translate","category","$filter","languageService","Restangular"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("mediaCategoryModule",[]).run(["Restangular","languageService","$filter","$log",function(e,t,a,o){e.extendCollection("medias",function(e){return e}),e.extendModel("medias",function(e){return e.init=function(){_.extend(e,{id:"",status:"published",visibility:"public"})},""===e.id&&e.init(),e})}]).config(["$stateProvider","$urlRouterProvider",function(e,t){}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e){var t={};return t.init=function(){return e.one("media/categories","")},t.get=function(t,a){return t=t||{},a=a||{},e.all("media/categories").withHttpConfig(a).getList(t)},t.find=function(t){return e.one("media/categories",t).get()},t.update=function(t,a){return e.one("media/categories",t).customPUT(a)},t.store=function(t){return e.all("media/categories").post(t)},t.destroy=function(t){return e.one("media/categories",t).remove()},t}angular.module("mediaCategoryModule").factory("mediaCategoryService",e),e.$inject=["Restangular"]}(),/*
 * This file is part of YOOV TEAM PROJECT.
 *
 * (c) YOOV TEAM
 * (c) DevMark <mark@yoov.com>
 *
 * For the full copyright and license information, please view http://yoov.com/
 *
 */
function(){"use strict";angular.module("mediaModule",["ui.router","ngFileUpload"]).run(["Restangular","languageService","$filter","$log",function(e,t,a,o){e.extendCollection("medias",function(e){return e}),e.extendModel("medias",function(e){return e.init=function(){_.extend(e,{id:""})},""===e.id&&e.init(),e})}]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("main.media-list",{url:"media",templateUrl:"app/components/media/media.list.html",controller:"MediaListController as listCtrl",resolve:{meta:["$rootScope","$translate","$q",function(e,t,a){var o=a.defer();return t("media.media").then(function(t){e.meta.pageTitle=t,o.resolve(!0)},function(){o.reject()}),o.promise}]}})}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e){var t={};return t.init=function(){return e.one("media","")},t.get=function(t,a){return t=t||{},a=a||{},e.all("media").withHttpConfig(a).getList(t)},t.find=function(t,a){return a=a||{},e.one("media",t).withHttpConfig(a).get()},t.update=function(t,a){return e.one("media",t).customPUT(a)},t.store=function(t){return e.all("media").withHttpConfig({transformRequest:angular.identity}).customPOST(t,void 0,void 0,{"Content-Type":void 0})},t.destroy=function(t){return e.one("media",t).remove()},t}angular.module("mediaModule").factory("mediaService",e),e.$inject=["Restangular"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e,t,a,o,n,i,s,l,r,c){var d=this;d.files=[],e.$watch("listCtrl.files",function(){console.log("sd"),d.upload(d.files)}),d.upload=function(e){if(e&&e.length){d.uploadLoading=!0;for(var t=[],o=0;o<e.length;o++){var i=e[o],r=new FormData;r.append("name",i.name),d.filter.category_ids[0]>0&&r.append("media_category_id",d.filter.category_ids[0]),r.append("attachment",i);var c=a.store(r).then(function(e){d.rowCollection.push(e)},function(){n.pop("error","",s.instant("media.update_error_msg"))});t.push(c)}l.all(t).then(function(){d.uploadLoading=!1,n.pop("success","",s.instant("media.update_success_msg"))})}},r.get({},{cache:!1}).then(function(e){d.categories=e}),d.categoryFormData={name:""},d.addCategory=function(){d.categorySaveLoading=!0,r.store(d.categoryFormData).then(function(e){d.categories.push(e),d.categorySaveLoading=!1,d.categoryFormData={name:""}})},d.removeCategory=function(){d.deleteLoading=!0,r.destroy(d.filter.category_ids[0]).then(function(e){d.deleteLoading=!1,c.go(c.$current,null,{reload:!0})})},d.bulkMove=function(){if("undefined"!=typeof d.moveSelectedCategory){var e=[];_.each(d.rowCollection,function(t,o){t.isSelected===!0&&""!==t.id&&e.push(a.update(t.id,{media_category_id:d.moveSelectedCategory.id}))}),l.all(e).then(function(){n.pop("success","",s.instant("media.move_success_msg"))},function(){n.pop("error","",s.instant("media.move_error_msg"))})}},d.tableLoading=!1,d.paginationAction="",d.rowCollection=[],d.itemsByPage=10,d.filter={limit:d.itemsByPage,page:parseInt(o.search().page)||1,search:o.search().search||"",category_ids:[]},d.resetFilter=function(){var e=l.defer();return d.filter.search=null,e.resolve(),e.promise},d.filterAction=function(){var e=l.defer();return e.resolve(),e.promise},d.callServer=function(e){var t=angular.copy(d.filter);"undefined"!=typeof t.category_ids&&t.category_ids.length>0&&(t["category_ids[]"]=t.category_ids[0],delete t.category_ids);var o=e.pagination;"next"===d.paginationAction?t.page=o.next:"prev"===d.paginationAction&&(t.page=o.prev),d.tableLoading=!0,a.get(t,{cache:!1}).then(function(t){e.pagination.next=t.meta.pagination.next_page||null,e.pagination.prev=t.meta.pagination.prev_page||null,d.rowCollection=t,d.tableLoading=!1})},d.saveLoading={},d.save=function(e){d.saveLoading[e.id]=!0;d.rowCollection.indexOf(e);a.update(e.id,{name:e.name}).then(function(t){n.pop("success","",s.instant("media.update_success_msg")),d.saveLoading[e.id]=!1},function(){n.pop("error","",s.instant("media.update_error_msg")),d.saveLoading[e.id]=!1})},d.remove=function(e){var t=d.rowCollection.indexOf(e);-1!==t&&""!==e.id&&a.destroy(e.id).then(function(){d.rowCollection.splice(t,1),n.pop("success","",s.instant("media.delete_success_msg"))},function(){n.pop("error","",s.instant("media.delete_error_msg"))})},d.bulkRemove=function(){var e=[];_.each(d.rowCollection,function(t,o){t.isSelected===!0&&""!==t.id&&e.push(a.destroy(t.id))}),l.all(e).then(function(){for(var e=[],t=0;t<d.rowCollection.length;t++)(d.rowCollection[t].isSelected!==!0||""===d.rowCollection[t].id)&&e.push(d.rowCollection[t]);d.rowCollection=e,n.pop("success","",s.instant("media.delete_success_msg"))},function(){n.pop("error","",s.instant("media.delete_error_msg"))})}}angular.module("mediaModule").controller("MediaListController",e),e.$inject=["$scope","Upload","mediaService","$location","toaster","$timeout","$translate","$q","mediaCategoryService","$state"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("languageModule",[]).run(["Restangular","languageService",function(e,t){}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("languageModule").factory("languageService",["Restangular","$q","$filter","$modal","$translate","amMoment","$state",function(e,t,a,o,n,i,s){var l={};return l.setCurrentLanguage=function(e){n.use(e),i.changeLocale(e),s.go(".")},l}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("meModule",[]).run(["Restangular",function(e){e.extendModel("me",function(e){return e.getFullName=function(){return(e.firstname||"")+" "+(e.lastname||"")},e})}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e){var t={};return t.get=function(t){return t=t||{},e.one("me").get(t)},t.update=function(t){return e.one("me").customPUT(t)},t}angular.module("meModule").factory("meService",e),e.$inject=["Restangular"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("authModule",["ui.router"]).config(["$stateProvider",function(e){e.state("fullscreen.login",{url:"auth/login",templateUrl:"app/components/auth/login.html",controller:"LoginController as loginCtrl",resolve:{meta:["$rootScope","$translate","$q",function(e,t,a){var o=a.defer();return t("auth.login").then(function(t){e.meta.pageTitle=t,o.resolve(!0)},function(){o.reject()}),o.promise}]}})}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e,t,a){var o=this;o.form={email:"",password:"",remebmer:!1},o.loading=!1,o.login=function(){o.loading=!0,t.login(o.form).then(function(t){e.path("/")},function(e){a.pop("error","",e.data.result.message),o.loading=!1})}}angular.module("authModule").controller("LoginController",e),e.$inject=["$location","authenticationService","toaster"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e,t,a,o){var n={},i=function(e){return{email:t(e.email),password:t(e.password)}};return n.login=function(t){t=i(t);var n=o.defer();return e.all("auth/login").post(t).then(function(e){a.set("token",e.token),n.resolve(e)},function(e){n.reject(e)}),n.promise},n.logout=function(){var t=o.defer();return e.all("auth/logout").post().then(function(e){a.remove("token"),t.resolve(e)},function(e){t.reject(e)}),t.promise},n.getToken=function(){return"Bearer "+a.get("token")},n.check=function(){return a.get("token")?1:0},n}angular.module("authModule").factory("authenticationService",e),e.$inject=["Restangular","$sanitize","localStorageService","$q"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e){this.settings={isOpenSidebar:!0,isOpenControlSidebar:!1,isBoxedLayout:!1,isFixedLayout:!0,fullscreen:!1},this.get=function(e){return this.settings[e]},this.set=function(t,a){this.settings[t]=a,e.$broadcast("siteThemeService:changed",{key:t,value:this.settings[t]}),e.$broadcast("siteThemeService:changed:"+t,this.settings[t])},this.values=function(){return this.settings}}angular.module("theme.services",[]).service("siteThemeService",e),e.$inject=["$rootScope"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("theme.directives",[]).directive("slideOutNav",["$timeout",function(e){return{restrict:"A",scope:{show:"=slideOutNav"},link:function(t,a,o){t.$watch("show",function(o,n){o?a.slideDown({complete:function(){e(function(){t.$apply()})}}):o||a.slideUp({complete:function(){e(function(){t.$apply()})}})})}}}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e){var t={};return t.formError=function(t){e.pop("error","",t.data.message)},t}angular.module("global.service",[]).factory("messageService",e),e.$inject=["toaster"]}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("global.filter",[]).filter("range",function(){return function(e){var t,a;switch(e.length){case 1:t=0,a=parseInt(e[0])-1;break;case 2:t=parseInt(e[0]),a=parseInt(e[1]);break;default:return e}for(var o=[],n=t;a>=n;n++)o.push(n);return o}})}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";angular.module("global.directive",[]).directive("ngReallyClick",["$modal",function(e){var t=function(e,t){e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}};return t.$inject=["$scope","$modalInstance"],{restrict:"A",scope:{ngReallyClick:"&"},link:function(a,o,n){o.bind("click",function(){var o=n.ngReallyMessage||"Are you sure ?",i='<div class="modal-body">'+o+"</div>";i+='<div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">{{ \'button.yes\' | translate }}</button><button class="btn btn-default" ng-click="cancel()">Cancel</button></div>';var s=e.open({template:i,controller:t});s.result.then(function(){a.ngReallyClick()},function(){})})}}}])}(),/*
 * This file is part of EMCOO TEAM PROJECT.
 *
 *  (c) EMCOO TEAM
 *  (c) DevMark <mark@emcoo.com>
 *
 *  For the full copyright and license information, please view http://emcoo.com/
 *
 *
 */
function(){"use strict";function e(e,t,a,o){var n=this;n.today=new Date,o.check()&&a.get().then(function(e){n.me=e}),n.logout=function(){o.logout().then(function(e){t.path("auth/login")},function(e){t.path("auth/login")})},n.isOpenSidebar=e.get("isOpenSidebar"),n.isOpenControlSidebar=e.get("isOpenControlSidebar"),n.isFixedLayout=e.get("isFixedLayout"),n.isBoxedLayout=e.get("isBoxedLayout"),n.fullscreen=e.get("fullscreen"),n.toggleSidebar=function(t){t.preventDefault(),t.stopPropagation(),n.isOpenSidebar=!n.isOpenSidebar,e.set("isOpenSidebar",n.isOpenSidebar),console.log(n.isOpenSidebar)},n.toggleControlSidebar=function(t){t.preventDefault(),t.stopPropagation(),n.isOpenControlSidebar=!n.isOpenControlSidebar,e.set("isOpenControlSidebar",n.isOpenSidebar)}}angular.module("backend").controller("MainController",e),e.$inject=["siteThemeService","$location","meService","authenticationService"]}(),angular.module("backend").run(["$templateCache",function(e){e.put("app/main/dashboard.html",'<section class="content-header"><h1>{{ \'panel.dashboard\' | translate }}</h1></section><section class="content"><div ui-view=""></div></section>'),e.put("app/main/fullscreen.html",'<div ui-view="" ng-init="mainCtrl.fullscreen= true"></div>'),e.put("app/main/header.html",'<header class="main-header"><a href="/" class="logo"><span class="logo-mini"><b>CMS</b></span><span class="logo-lg"><b>EMCOO</b>CMS</span></a><nav class="navbar navbar-static-top" role="navigation"><a class="sidebar-toggle" ng-click="mainCtrl.toggleSidebar($event)" href="#" role="button"><span class="sr-only">Toggle navigation</span></a><div class="navbar-custom-menu"><ul class="nav navbar-nav"><li class="dropdown messages-menu" dropdown="" on-toggle="toggled(open)" ng-show="0"><a href="#" class="dropdown-toggle" dropdown-toggle=""><i class="fa fa-envelope-o"></i> <span class="label label-success">4</span></a><ul class="dropdown-menu"><li class="header">You have 4 messages</li><li><ul class="menu"><li><a href="#"><div class="pull-left"><img src="//placehold.it/160x160" class="img-circle" alt="User Image"></div><h4>Support Team <small><i class="fa fa-clock-o"></i> 5 mins</small></h4><p>Why not buy a new awesome theme?</p></a></li></ul></li><li class="footer"><a href="#">See All Messages</a></li></ul></li><li class="dropdown notifications-menu" dropdown="" on-toggle="toggled(open)" ng-show="0"><a href="#" class="dropdown-toggle" dropdown-toggle=""><i class="fa fa-bell-o"></i> <span class="label label-warning">10</span></a><ul class="dropdown-menu"><li class="header">You have 10 notifications</li><li><ul class="menu"><li><a href="#"><i class="fa fa-users text-aqua"></i> 5 new members joined today</a></li></ul></li><li class="footer"><a href="#">View all</a></li></ul></li><li class="dropdown tasks-menu" dropdown="" on-toggle="toggled(open)" ng-show="0"><a href="#" class="dropdown-toggle" dropdown-toggle=""><i class="fa fa-flag-o"></i> <span class="label label-danger">9</span></a><ul class="dropdown-menu"><li class="header">You have 9 tasks</li><li><ul class="menu"><li><a href="#"><h3>Design some buttons <small class="pull-right">20%</small></h3><div class="progress xs"><div class="progress-bar progress-bar-aqua" style="width: 20%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"><span class="sr-only">20% Complete</span></div></div></a></li></ul></li><li class="footer"><a href="#">View all tasks</a></li></ul></li><li class="dropdown user user-menu" dropdown="" on-toggle="toggled(open)"><a href="#" class="dropdown-toggle" dropdown-toggle=""><img src="//placehold.it/160x160" class="user-image" alt="User Image"><span class="hidden-xs">{{ mainCtrl.me.getFullName() }}</span></a><ul class="dropdown-menu"><li class="user-header"><img src="//placehold.it/160x160" class="img-circle" alt="User Image"><p>{{ mainCtrl.me.getFullName() }} <small>{{ mainCtrl.me.created_at | amCalendar }}</small></p></li><li class="user-body"><div class="col-xs-4 text-center"><a href="#">Followers</a></div><div class="col-xs-4 text-center"><a href="#">Sales</a></div><div class="col-xs-4 text-center"><a href="#">Friends</a></div></li><li class="user-footer"><div class="pull-left"><a href="" class="btn btn-default btn-flat">Profile</a></div><div class="pull-right"><a href="" class="btn btn-default btn-flat" ng-click="mainCtrl.logout()">{{ \'auth.logout\' | translate }}</a></div></li></ul></li><li><a href="#" ng-click="mainCtrl.toggleControlSidebar($event)"><i class="fa fa-gears"></i></a></li></ul></div></nav></header>'),e.put("app/main/main.html",'<div class="wrapper"><div ng-include="\'app/main/header.html\'"></div><div ng-include="\'app/main/sidebar/sidebar.html\'"></div><div class="content-wrapper" style="min-height: 1008px;"><div ng-show="pageViewLoading"><three-bounce-spinner></three-bounce-spinner></div><div ng-show="!pageViewLoading" ui-view=""></div></div><footer class="main-footer"><div class="pull-right hidden-xs">System By DevMark</div><strong>{{ \'panel.footer.copyright\' | translate }} &copy; {{ mainCtrl.today | date:\'yyyy\'}} <a href="#">{{ \'panel.name\' | translate }}</a>.</strong> {{ \'panel.footer.all_rights_reserved\' | translate }}.</footer><aside ng-class="{\'control-sidebar-open\' : mainCtrl.isOpenControlSidebar}" class="control-sidebar control-sidebar-dark"><ul class="nav nav-tabs nav-justified control-sidebar-tabs"><li class="active"><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li><li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li></ul><div class="tab-content"><div class="tab-pane active" id="control-sidebar-home-tab"><h3 class="control-sidebar-heading">Recent Activity</h3><ul class="control-sidebar-menu"><li><a href="javascript::;"><i class="menu-icon fa fa-birthday-cake bg-red"></i><div class="menu-info"><h4 class="control-sidebar-subheading">Langdon\'s Birthday</h4><p>Will be 23 on April 24th</p></div></a></li></ul><h3 class="control-sidebar-heading">Tasks Progress</h3><ul class="control-sidebar-menu"><li><a href="javascript::;"><h4 class="control-sidebar-subheading">Custom Template Design <span class="label label-danger pull-right">70%</span></h4><div class="progress progress-xxs"><div class="progress-bar progress-bar-danger" style="width: 70%"></div></div></a></li></ul></div><div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div><div class="tab-pane" id="control-sidebar-settings-tab"><form method="post"><h3 class="control-sidebar-heading">General Settings</h3><div class="form-group"><label class="control-sidebar-subheading">Report panel usage <input type="checkbox" class="pull-right" checked=""></label><p>Some information about this general settings option</p></div></form></div></div></aside><div class="control-sidebar-bg"></div></div>'),e.put("app/template/404.html",'<section class="content-header"><h1>{{ \'panel.404.not_found\' | translate }}</h1></section><section class="content"><div class="error-page"><h2 class="headline text-yellow">404</h2><div class="error-content"><h3><i class="fa fa-warning text-yellow"></i> {{ \'panel.404.title\' | translate }}</h3><p>{{ \'panel.404.title_msg\' | translate }}</p></div></div></section>'),e.put("app/components/auth/login.html",'<div class="login-box"><div class="login-logo"><a href="/"><b>EMCOO</b>CMS</a></div><div class="login-box-body"><p class="login-box-msg">Sign in to start your session</p><form name="loginCtrl.loginForm" method="post" ng-submit="loginCtrl.login()"><div class="form-group has-feedback"><input type="email" class="form-control" ng-model="loginCtrl.form.email" required="" placeholder="Email"> <span class="glyphicon glyphicon-envelope form-control-feedback"></span></div><div class="form-group has-feedback"><input type="password" class="form-control" ng-model="loginCtrl.form.password" required="" placeholder="Password"> <span class="glyphicon glyphicon-lock form-control-feedback"></span></div><div class="row"><div class="col-xs-8"><div class="checkbox"><label><input type="checkbox" ng-model="loginCtrl.form.remebmer"> Remember Me</label></div></div><div class="col-xs-4"><button type="submit" ng-disabled="loginCtrl.loading || loginCtrl.loginForm.$invalid" class="btn btn-primary btn-block btn-flat"><span ng-hide="loginCtrl.loading">{{ \'auth.login\' | translate }}</span> <span ng-show="loginCtrl.loading"><i class="fa fa-spinner fa-spin"></i></span></button></div></div></form></div></div>'),e.put("app/components/media/media.list.html",'<section class="content-header"><h1>{{ \'media.media\' | translate }}</h1></section><section class="content"><div class="row"><div class="col-md-12"><div class="box box-solid"><div class="box-header with-border"><h3 class="box-title">{{ \'media.media\' | translate }}</h3></div><div ngf-drop="" ngf-select="" ng-model="listCtrl.files" class="ng-file-upload-drop-box" ngf-drag-over-class="ng-file-upload-drag-over" ngf-multiple="true" ngf-allow-dir="true" accept="image/*,application/pdf" ng-disabled="listCtrl.uploadLoading"><span ng-show="!listCtrl.uploadLoading"><i class="fa fa-cloud-upload fa-2x"></i> {{ \'upload.supported_drop_msg\' | translate }}</span> <span ng-show="listCtrl.uploadLoading"><i class="fa fa-spin fa-spinner"></i> {{ \'upload.uploading\' | translate }}</span></div><div ngf-no-file-drop="">{{ \'upload.unsupported_drop_msg\' | translate }}</div><br><div class="box-body" st-table="listCtrl.rowCollection" st-safe-src="listCtrl.rowCollection" st-pipe="listCtrl.callServer"><div class="row"><div class="col-md-12"><div class="form-inline"><form name="listCtrl.categoryForm"><div class="form-group"><input type="text" required="" class="form-control" ng-model="listCtrl.categoryFormData.name" placeholder="New category name"></div><div class="form-group"><button class="btn btn-default" ng-disabled="listCtrl.categoryForm.$invalid || listCtrl.categorySaveLoading" ng-click="listCtrl.addCategory()"><i class="fa fa-plus"></i> {{ \'button.add\' | translate }}</button></div></form></div></div></div><br><div class="row"><div class="col-md-12"><div class="form-inline"><div class="form-group"><select class="form-control" ng-model="listCtrl.filter.category_ids[0]" ng-options="category.id as category.name for category in listCtrl.categories"><option value="">All categories</option></select></div><div class="form-group"><button ng-show="listCtrl.filter.category_ids[0]" class="btn btn-danger" ng-disabled="listCtrl.deleteLoading" ng-really-message="{{ \'media.delete_before_msg\' | translate }}" ng-really-click="removeCategory()"><i class="fa fa-trash-o"></i> Delete {{ selectedCategory.name }} category</button></div><div class="form-group"><input type="text" class="form-control" ng-model="listCtrl.filter.search" placeholder="Serach Title"></div><div class="form-group"><button class="btn btn-default" ng-disabled="listCtrl.tableLoading" st-custom-action="" callback="listCtrl.filterAction()"><i class="fa fa-filter"></i> {{ \'button.filter\' | translate }}</button></div><div class="form-group"><button class="btn btn-default" ng-disabled="listCtrl.tableLoading" st-custom-action="" callback="listCtrl.resetFilter()"><i class="fa fa-refresh"></i></button></div></div></div></div><br><div class="row"><div class="col-md-12"><div class="form-inline"><div class="form-group"><div class="btn-group"><button ng-disabled="countSelectedRows <= 0" class="btn btn-default-sm" ng-really-message="{{ \'media.delete_before_msg\' | translate }}" ng-really-click="listCtrl.bulkRemove()"><i class="fa fa-trash-o"></i> Delete selected</button></div></div><div class="form-group"><div class="btn-group"><button ng-disabled="countSelectedRows <= 0" class="btn btn-default" ng-click="listCtrl.bulkMove()"><i class="fa fa-send"></i> Move selected to</button></div></div><select class="form-control" ng-model="listCtrl.moveSelectedCategory" ng-options="category.name for category in listCtrl.categories"></select></div></div></div><div class="table-responsive"><table class="table table-hover"><thead><tr><th width="5%"><st-select-all all="listCtrl.rowCollection" count-selected-rows="countSelectedRows" ng-model="listCtrl.isAllSelected"></st-select-all></th><th></th><th width="35%">{{ \'global.name\' | translate}}</th><th width="10%">{{ \'media.file_size\' | translate}}</th><th width="15%">{{ \'global.created_at\' | translate }}</th><th width="15%"></th></tr></thead><tbody ng-if="!listCtrl.tableLoading"><tr ng-repeat="row in listCtrl.rowCollection"><td><input type="checkbox" ng-checked="row.isSelected" st-select-row="row"></td><td><span ng-if="row.mime.substr(0, 5) === \'image\'"><img height="80px" ng-src="{{row.url}}" alt=""></span></td><td><div class="input-group"><input type="text" class="form-control" required="" ng-model="listCtrl.row.name"><div class="input-group-btn"><button type="button" ng-disabled="row.name === \'\' || listCtrl.saveLoading[row.id]" ng-click="save(row)" class="btn btn-default"><span ng-if="listCtrl.saveLoading[row.id]"><i class="fa fa-spin fa-spinner"></i></span> <span ng-if="!listCtrl.saveLoading[row.id]"><i class="fa fa-save"></i></span></button></div></div></td><td>{{ row.filesize | byteFmt: 2 }}</td><td>{{ row.created_at | amCalendar }}</td><td><div class="btn-group" dropdown=""><a href="{{ row.url }}" target="_blank" class="btn btn-primary"><i class="fa fa-search"></i> {{ \'button.preview\' | translate }}</a> <button type="button" class="btn btn-primary dropdown-toggle" dropdown-toggle=""><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu" role="menu"><li><a ng-click="remove(row)" href=""><i class="fa fa-times"></i> {{ \'button.remove\' | translate }}</a></li></ul></div></td></tr></tbody><tbody ng-if="listCtrl.tableLoading"><tr><td colspan="7" class="text-center"><i class="fa fa-lg fa-spinner fa-spin"></i></td></tr></tbody><tfoot><tr><td colspan="7" class="text-center"><div st-template="app/shared/override/smart-table/pagination.html" st-next-prev-pagination="" st-items-by-page="itemsByPage"></div></td></tr></tfoot></table></div></div></div></div></div></section>'),e.put("app/components/post/form.category.item.loop.html",'<div class="checkbox"><label><input value="{{ item.id }}" type="checkbox" ng-checked=""> {{ item | switch_lang:\'name\':currentLanguage.language_code }}</label></div><ul ng-if="item.children.length > 0"><li ng-repeat="item in item.children" ng-include="\'scripts/components/post/form.category.item.loop.html\'"></li></ul>'),e.put("app/components/post/post.form.html",'<section class="content-header"><h1><span ng-if="formCtrl.post.id !== \'\'">{{ \'post.edit_post\' | translate }}</span> <span ng-if="formCtrl.post.id === \'\'">{{ \'post.add_a_post\' | translate }}</span> <small>{{ formCtrl.post.title }}</small></h1></section><section class="content"><form name="formCtrl.postForm"><div class="row"><div class="col-md-12"><div class="pull-right"><button type="submit" ng-disabled="formCtrl.postForm.$invalid || formCtrl.deleteLoading || formCtrl.saveLoading" ng-click="formCtrl.save()" class="btn btn-primary"><span ng-if="formCtrl.saveLoading"><i class="fa fa-spin fa-spinner"></i></span> <span ng-if="!formCtrl.saveLoading"><i class="fa fa-save"></i> {{ \'button.save\' | translate }}</span></button> <button type="button" class="btn btn-default" ng-click="$location.path(\'posts\')"><i class="fa fa-reply"></i> {{ \'button.go_back\' | translate }}</button> <button type="submit" ng-click="formCtrl.saveAndExit()" ng-disabled="formCtrl.postForm.$invalid || formCtrl.deleteLoading || formCtrl.saveLoading" class="btn btn-primary"><span ng-if="formCtrl.saveLoading"><i class="fa fa-spin fa-spinner"></i></span> <span ng-if="!formCtrl.saveLoading"><i class="fa fa-save"></i> {{ \'button.save_exit\' | translate }}</span></button> <button ng-if="formCtrl.post.id !== \'\'" type="button" ng-disabled="formCtrl.deleteLoading || formCtrl.saveLoading" ng-click="formCtrl.delete()" class="btn btn-danger"><span ng-if="formCtrl.deleteLoading"><i class="fa fa-spin fa-spinner"></i></span> <span ng-if="!formCtrl.deleteLoading"><i class="fa fa-save"></i> {{ \'button.delete\' | translate }}</span></button></div></div></div><br><div class="row"><div class="col-md-8"><div class="box box-solid"><div class="box-body"><div class="form-group"><input id="title" type="text" class="form-control" placeholder="{{ \'global.title\' | translate }}" required="" ng-model="formCtrl.post.title"></div><div class="form-group"><div text-angular="" id="content" placeholder="{{ \'global.content\' | translate }}" ng-model="formCtrl.post.content"></div></div></div></div><div class="box box-solid"><div class="box-header with-border"><h3 class="box-title">{{ \'post.category.categories\' | translate }}</h3><div class="box-tools pull-right"><button class="btn btn-box-tool" ng-click="$location.path(\'posts/categories/create\')"><i class="fa fa-plus"></i> {{ \'button.add\' | translate }}</button></div></div><div class="box-body"><ui-select multiple="" ng-model="formCtrl.post.categories"><ui-select-match placeholder="">{{$item.name}}</ui-select-match><ui-select-choices repeat="category in formCtrl.categories" refresh="formCtrl.refreshCategory($select.search)" refresh-delay="0"><div ng-bind-html="category.name | highlight: $select.search"></div></ui-select-choices></ui-select></div><div class="overlay" ng-show="!formCtrl.post.categories"><i class="fa fa-refresh fa-spin"></i></div></div></div><div class="col-md-4"><div class="box box-solid"><div class="box-body"><div class="form-group"><label for="slug" class="control-label">{{ \'global.slug\' | translate }}</label><div class="input-group"><input id="slug" type="text" class="form-control" required="" ng-model="formCtrl.post.slug"><div class="input-group-btn"><button type="button" ng-disabled="formCtrl.generateSlugLoading || !formCtrl.post.title" ng-click="formCtrl.generateSlug()" class="btn btn-default">{{ \'button.generate\' | translate }}</button></div></div></div><div class="form-group"><label class="control-label" for="published_at">{{ \'post.published_on\' | translate }}</label><div class="input-group"><input id="published_at" type="text" class="form-control" ng-model="formCtrl.form.publishedDate" datepicker-popup="yyyy-MM-dd" max-date="formCtrl.dateOptions.maxDate" ng-click="formCtrl.open($event)" is-open="formCtrl.opened" datepicker-options="formCtrl.dateOptions" ng-required="true" close-text="Close" readonly=""> <span class="input-group-btn"><button type="button" ng-click="formCtrl.open($event)" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div><a ng-init="formCtrl.showPublishedTime=false" href="" ng-click="formCtrl.showPublishedTime = !formCtrl.showPublishedTime">Different Time?</a><div ng-if="formCtrl.showPublishedTime"><timepicker ng-model="formCtrl.form.publishedTime" hour-step="1" minute-step="15" show-meridian="true"></timepicker></div></div><div class="form-group"><label class="control-label" for="status">{{ \'global.status\' | translate }}</label><div class="radio"><label><input name="status" ng-model="formCtrl.post.status" value="published" type="radio"> Published</label></div><div class="radio"><label><input name="status" ng-model="formCtrl.post.status" value="draft" type="radio"> Draft</label></div><div class="radio"><label><input name="status" ng-model="formCtrl.post.status" value="trash" type="radio"> Trash</label></div></div><div class="form-group"><label class="control-label" for="visibility">{{ \'post.visibility\' | translate }}</label><div class="radio"><label><input name="visibility" ng-model="formCtrl.post.visibility" value="public" type="radio"> Public</label></div><div class="radio"><label><input name="visibility" ng-model="formCtrl.post.visibility" value="private" type="radio"> Private</label></div></div></div></div><div class="box box-solid"><div class="box-body"><div class="form-group"><label for="tags" class="control-label">{{ \'global.tags\' | translate }}</label><ui-select id="tags" multiple="" tagging="" tagging-label="false" ng-model="formCtrl.post.tags" theme="bootstrap" style="width: 100%;" title=""><ui-select-match placeholder="">{{$item}}</ui-select-match><ui-select-choices repeat="tag in [] | filter:$select.search">{{ tag }}</ui-select-choices></ui-select></div></div></div></div></div></form></section>'),e.put("app/components/post/post.list.html",'<section class="content-header"><h1>{{ \'post.posts\' | translate }}</h1></section><section class="content"><div class="row"><div class="col-md-12"><div class="pull-right"><a ui-sref="main.post-create" class="btn btn-primary"><i class="fa fa-plus"></i> {{ \'post.add_a_post\' | translate }}</a></div></div></div><br><div class="row"><div class="col-md-12"><div class="box box-solid"><div class="box-header with-border"><h3 class="box-title">{{ \'post.posts\' | translate }}</h3></div><div class="box-body" st-table="listCtrl.rowCollection" st-safe-src="listCtrl.rowCollection" st-pipe="listCtrl.callServer"><div class="row"><div class="col-md-12"><div class="form-inline"><div class="form-group"><div class="input-group"><input id="published_at" datepicker-popup="MM/yyyy" type="text" class="form-control" ng-model="listCtrl.filter.published_at" date-disabled="disabled(date, mode)" datepicker-mode="\'month\'" is-open="listCtrl.opened" ng-click="listCtrl.open($event)" datepicker-options="listCtrl.dateOptions" ng-required="true" close-text="Close" readonly=""> <span class="input-group-btn"><button type="button" ng-click="listCtrl.open($event)" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div></div><div class="form-group"><ui-select ng-model="listCtrl.filter.category_ids[0]"><ui-select-match placeholder="All categories">{{ $select.selected.name }}</ui-select-match><ui-select-choices repeat="category.id as category in listCtrl.categories track by $index" refresh="refreshCategory($select.search)" refresh-delay="0"><div ng-bind-html="category.name | highlight: $select.search"></div></ui-select-choices></ui-select></div><div class="form-group"><input type="text" class="form-control" ng-model="listCtrl.filter.search" placeholder="Serach Title"></div><div class="form-group"><button class="btn btn-default" ng-disabled="listCtrl.tableLoading" st-custom-action="" callback="listCtrl.filterAction()"><i class="fa fa-filter"></i> {{ \'button.filter\' | translate }}</button></div><div class="form-group"><button class="btn btn-default" ng-disabled="listCtrl.tableLoading" st-custom-action="" callback="listCtrl.resetFilter()"><i class="fa fa-refresh"></i></button></div></div></div></div><br><div class="row"><div class="col-md-12"><div class="btn-group"><button ng-disabled="listCtrl.countSelectedRows <= 0" class="btn btn-default btn-sm" ng-really-message="{{ \'post.delete_before_msg\' | translate }}" ng-really-click="listCtrl.bulkRemove()"><i class="fa fa-trash-o"></i> Delete Selected</button></div></div></div><div class="table-responsive"><table class="table table-hover"><thead><tr><th width="5%"><st-select-all all="listCtrl.rowCollection" count-selectlistctrl.ed-rows="countSelectedRows" ng-model="isAllSelected"></st-select-all></th><th>{{ \'global.title\' | translate}}</th><th width="15%">{{ \'global.status\' | translate}}</th><th width="15%">{{ \'global.created_at\' | translate }}</th><th width="15%"></th></tr></thead><tbody ng-if="!listCtrl.tableLoading"><tr ng-repeat="row in listCtrl.rowCollection"><td><input type="checkbox" ng-checked="row.isSelected" st-select-row="row"></td><td>{{ row.title }}</td><td>{{ row.status }}</td><td>{{ row.created_at | amCalendar }}</td><td><div class="btn-group" dropdown=""><a href="posts/{{ row.id }}/edit" class="btn btn-primary"><i class="fa fa-search"></i> {{ \'button.edit\' | translate }}</a> <button type="button" class="btn btn-primary dropdown-toggle" dropdown-toggle=""><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu" role="menu"><li><a ng-click="remove(row)" href=""><i class="fa fa-times"></i> {{ \'button.remove\' | translate }}</a></li></ul></div></td></tr></tbody><tbody ng-if="listCtrl.tableLoading"><tr><td colspan="7" class="text-center"><i class="fa fa-lg fa-spinner fa-spin"></i></td></tr></tbody><tfoot><tr><td colspan="7" class="text-center"><div st-template="app/shared/override/smart-table/pagination.html" st-next-prev-pagination="" st-items-by-page="itemsByPage"></div></td></tr></tfoot></table></div></div></div></div></div></section>'),e.put("app/components/post.category/post.category.form.html",'<section class="content-header"><h1>{{ \'post.category.edit_category\' | translate }} <small>{{ category.title }}</small></h1></section><section class="content"><form name="formCtrl.categoryForm"><div class="row"><div class="col-md-12"><div class="pull-right"><button type="button" ng-disabled="formCtrl.categoryForm.$invalid || formCtrl.saveLoading" ng-click="formCtrl.save()" class="btn btn-primary"><i class="fa fa-save"></i> {{ \'button.save\' | translate }}</button> <button type="button" class="btn btn-default" ng-click="$location.path(\'posts/categories\')"><i class="fa fa-reply"></i> {{ \'button.go_back\' | translate }}</button> <button type="button" ng-disabled="formCtrl.categoryForm.$invalid || formCtrl.saveLoading" ng-click="formCtrl.saveAndExit()" class="btn btn-primary"><i class="fa fa-save"></i> {{ \'button.save_exit\' | translate }}</button></div></div></div><br><div class="row"><div class="col-md-8"><div class="box box-solid"><div class="box-body"><div class="form-group"><label class="control-label" for="title">{{ \'global.name\' | translate }}</label> <input id="title" type="text" class="form-control" required="" ng-model="formCtrl.category.name"></div><div class="form-group"><label class="control-label" for="description">{{ \'global.description\' | translate }}</label> <textarea class="form-control" id="description" ng-model="formCtrl.category.description"></textarea></div></div></div></div><div class="col-md-4"><div class="box box-solid"><div class="box-body"><div class="form-group"><label for="slug" class="control-label">{{ \'global.slug\' | translate }}</label><div class="input-group"><input id="slug" type="text" class="form-control" ng-model="formCtrl.category.slug"><div class="input-group-btn"><button type="button" ng-disabled="formCtrl.generateSlugLoading || !formCtrl.category.name" ng-click="formCtrl.generateSlug()" class="btn btn-default">{{ \'button.generate\' | translate }}</button></div></div></div><div class="form-group"><label class="control-label" for="status">{{ \'global.status\' | translate }}</label><div class="radio"><label><input name="status" ng-model="formCtrl.category.active" value="1" type="radio"> <i class="fa fa-check"></i></label></div><div class="radio"><label><input name="status" ng-model="formCtrl.category.active" value="0" type="radio"> <i class="fa fa-close"></i></label></div></div></div></div></div></div></form></section>'),e.put("app/components/post.category/post.category.list.html",'<section class="content-header"><h1>{{ \'post.category.categories\' | translate }}</h1></section><section class="content"><div class="row"><div class="col-md-12"><div class="pull-right"><a ui-sref="main.post-category-create" class="btn btn-primary"><i class="fa fa-plus"></i> {{ \'post.category.add_a_category\' | translate }}</a></div></div></div><br><div class="row"><div class="col-md-12"><div class="box box-solid"><div class="box-header with-border"><h3 class="box-title">{{ \'post.category.categories\' | translate }}</h3></div><div class="box-body"><div ui-tree="listCtrl.categoryTree" ng-if="listCtrl.categories"><ol ui-tree-nodes="" ng-model="listCtrl.categories"><li ng-repeat="node in listCtrl.categories" collapsed="{{ node.lft+1 !== node.rgt > 0 ? \'true\' : \'false\'}}" ui-tree-node="" ng-include="\'nodes_renderer.html\'"></li></ol></div></div><div class="overlay" ng-show="!listCtrl.categories"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></section><script type="text/ng-template" id="nodes_renderer.html"><div class="tree-node"> <div class="pull-left tree-handle"> <span class="glyphicon glyphicon-list"></span> </div> <div class="tree-node-content" data-nodrag> <a ng-show="node.lft+1 !== node.rgt" class="btn handletools expand btn-xs" data-nodrag ng-click="toggle(this);listCtrl.getChildren(node)"> <span class="fa fa-fw" ng-class="{\'fa-plus-square-o\': collapsed, \'fa-minus-square-o\': !collapsed}"> </span> </a> {{ node.name }} <div class="tree-node-tool pull-right"> <a class="btn btn-primary" data-nodrag href="posts/categories/{{ node.id }}/edit" style=""><span class="fa fa-edit"></span> {{ \'button.edit\' | translate }}</a> <a class="btn btn-danger" data-nodrag ng-click="delete(this)"><span class="fa fa-remove"></span> {{ \'button.remove\' | translate }}</a> </div> </div> </div> <ol ui-tree-nodes="" ng-model="node.children" ng-if="!collapsed" ng-class="{hidden: collapsed}"> <li ng-if="listCtrl.getChildrenLoading[node.id]"><i class="fa fa-refresh fa-spin"></i></li> <li ng-repeat="node in node.children" collapsed="{{ node.lft+1 !== node.rgt > 0 ? \'true\' : \'false\'}}" ui-tree-node ng-include="\'nodes_renderer.html\'"> </li> <li ng-if="!node.children" ng-init="node.children = []"> </li> </ol></script>'),e.put("app/main/sidebar/sidebar.html",'<aside class="main-sidebar" ng-controller="SidebarController as sidebarCtrl"><section class="sidebar"><div class="user-panel" ng-show="false"><div class="pull-left image"><img src="//placehold.it/160x160" class="img-circle" alt="User Image"></div><div class="pull-left info"><p>{{ me.getFullName() }}</p><a href="#"><i class="fa fa-circle text-success"></i> Online</a></div></div><form action="#" method="get" class="sidebar-form" ng-show="false"><div class="input-group"><input type="text" name="q" class="form-control" placeholder="Search..."> <span class="input-group-btn"><button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i></button></span></div></form><ul class="sidebar-menu"><li class="header" ng-show="false">HEADER</li><li ng-repeat="item in sidebarCtrl.menu" ng-class="{ treeview: (item.children!==undefined), active: (item.children!==undefined) && item.open }" ng-include="\'app/main/sidebar/sidebar.item.loop.html\'"></li></ul></section></aside>'),e.put("app/main/sidebar/sidebar.item.loop.html",'<a ng-if="item.children.length" ng-click="sidebarCtrl.select(item)"><i ng-if="item.iconClasses" class="{{item.iconClasses}}"></i><span>{{item.label}}</span> <i class="fa fa-angle-left pull-right"></i></a> <a ng-if="!item.children.length" ng-click="sidebarCtrl.select(item)" ui-sref="{{item.state ? item.state : \'main.index\'}}"><i ng-if="item.iconClasses" class="{{item.iconClasses}}"></i><span>{{item.label}}</span></a><ul ng-if="item.children.length" slide-out-nav="item.open" class="treeview-menu" ng-class="{\'menu-open\': item.open}"><li ng-repeat="item in item.children" ng-class="{ treeview: (item.children!==undefined), active:(item.children!==undefined) && item.open, open: (item.children!==undefined) && item.open }" ng-include="\'app/main/sidebar/sidebar.item.loop.html\'"></li></ul>'),e.put("app/shared/override/smart-table/pagination.html",'<div class="btn-group"><button type="button" class="btn btn-default btn-sm" ng-click="prev()" ng-disabled="cantPageBackward"><i class="fa fa-chevron-left"></i></button> <button type="button" class="btn btn-default btn-sm" ng-disabled="cantPageForward" ng-click="next()"><i class="fa fa-chevron-right"></i></button></div>')}]);